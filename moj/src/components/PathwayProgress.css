.verticalStepper{
  background-color: var(--lightOrange);
  color: var(--black);
  height: calc(100vh - 0);
  padding: 20px;

  &.sticky {
    position: sticky;
    top: 0;
    font-size: 20px;
  }

  h2, h3, h4, p {
    color: var(--black) !important;
  }

  button {
    background-color: var(--greenButton);
    text-transform: none;
    color: var(--white) !important;
  }

  .Mui-completed,
  .MuiStepLabel-label {
    color: var(--black) !important;
    font-weight: 700 !important;  
    font-family: GDSTransportBold;
    line-height: 1em;
  }

  .MuiStep-root { 
    &:last-child {
      .MuiStepContent-root {
        border-color: transparent !important;
      }
    }
    .MuiStepContent-root {
      border-left: 4px solid var(--black);
    }
  }

  .MuiStepConnector-line {
    border-left: 4px solid var(--black);
    margin: -12px 0;
    min-height: 50px;
    position: relative;
    left: 3px;
  }

  .MuiSvgIcon-root {
    circle {
      color: #cccccc;
    }
    text {
      fill: var(--black) !important;
    }
  }

  /*************
  Custom Styling 
  *************/
  .verticalStepperSteps{
    position: relative;

    .MuiStep-root { 
      .MuiStepContent-root {
        position: relative;
        left: 15px;
        margin: -12px 0;

        .MuiCollapse-root {
          position: relative;
          left: 12px;
          top: 10px;
        }
      }
    }

    .MuiStepConnector-root.Mui-active {
      & + .MuiStep-vertical {
        .MuiStepContent-root{
          border-left: 4px solid var(--black);
          position: relative;
          left: 15px;
          top: -10px;
          margin: 0;

          .MuiCollapse-root {
            position: relative;
            left: 12px;
            top: 10px;
          }
        }
      }
    }
    
    .MuiStepLabel-iconContainer  {
      background-color: var(--black);
      border: 1px solid var(--black);
      width: 36px;
      height: 36px;
      position: relative;
      border-radius: 5px;
      margin-right: 15px;

      path {
        display: none;
      }

      &::before {
        content: '';
        background-color: var(--white);
        border-radius: 50%;
        height: 12px;
        width: 12px;
        position: absolute;
        left: 11px;
        top: 11px;
      }

      &.Mui-completed {
        &::before {
          content: ''; 
          background: url(../assets/tick.svg) no-repeat 0 0 / 23px auto;
          height: 100%;
          width: 100%;
          z-index: 100;
          top: 8px;
          left: 5px;
          border-radius: 0;
        }
      }

      &.Mui-active {
        background-color: var(--white);
        border: 1px solid var(--black);
        z-index: 1;

        &::before {
          background-color: var(--black);
        }

        circle,
        text {
          display: none;
        }
      }
      
      &.Mui-disabled {
        background-color: #cccccc;
        border: 1px solid var(--black);
        z-index: 1;

        &::before {
          background-color: #a7a7a7;
        }

        circle,
        text {
          display: none;
        }
      }
    }
  }

  /* Fix for step boxes to inherit parent background color */
  .verticalStepper .step-box {
    background-color: inherit !important;
    border-left: 3px solid;
  }
}
.pathwayExpanded {
  .MuiChip-colorPrimary {
    /* background-color: red !important; */
  }
  .MuiChip-colorPrimary {
    background-color: var(--btnBlue);
    border-color: var(--btnBlue);
    border-radius: 5px;
    color: var(--white);
  }
  .MuiChip-colorSecondary {
    background-color: var(--btnOrange);
    border-color: var(--btnOrange);
    border-radius: 5px;
    color: var(--white);
  }
  .MuiChip-colorSuccess {
    background-color: var(--btnGreen);
    border-color: var(--btnGreen);
    border-radius: 5px;
    color: var(--white);
  }
  .MuiChip-colorError {
    background-color: var(--btnRed);
    border-color: var(--btnRed);
    border-radius: 5px;
    color: var(--white);
  }
}


/* Light Theme Fixes for Vertical Stepper */

/* Ensure step icons are visible in light theme */
.light-theme .verticalStepper .MuiStepLabel-iconContainer {
  background-color: var(--black);
  border: 1px solid var(--black);
}

/* Fix checkmark (completed) step icon in light theme */
.light-theme .verticalStepper .MuiStepLabel-iconContainer.Mui-completed::before {
  content: '';
  background: url(../assets/tick.svg) no-repeat 0 0 / 23px auto;
  height: 100%;
  width: 100%;
  z-index: 100;
  top: 8px;
  left: 5px;
  border-radius: 0;
}

/* Fix active step icon in light theme */
.light-theme .verticalStepper .MuiStepLabel-iconContainer.Mui-active {
  background-color: var(--white);
  border: 1px solid var(--black);
}

.light-theme .verticalStepper .MuiStepLabel-iconContainer.Mui-active::before {
  background-color: var(--black);
}

/* Fix disabled step icon in light theme */
.light-theme .verticalStepper .MuiStepLabel-iconContainer.Mui-disabled {
  background-color: #cccccc;
  border: 1px solid var(--black);
}

.light-theme .verticalStepper .MuiStepLabel-iconContainer.Mui-disabled::before {
  background-color: #a7a7a7;
}

/* Fix step connectors in light theme */
.light-theme .verticalStepper .MuiStepConnector-line {
  border-left: 4px solid var(--black);
}

.light-theme .verticalStepper .MuiStep-root .MuiStepContent-root {
  border-left: 4px solid var(--black);
}

/* Force step label text to be black in light theme */
.light-theme .verticalStepper .MuiStepLabel-label {
  color: var(--black) !important;
}

/* Fix for typography in step content (including "Completed Documents" heading) */
.light-theme .verticalStepper .MuiStepContent-root .MuiTypography-root,
.light-theme .verticalStepper .MuiStepContent-root .MuiTypography-subtitle2,
.light-theme .verticalStepper .MuiStepContent-root .MuiTypography-body2 {
  color: var(--black) !important;
}

/* Higher specificity for subtitle2 which is often used for section headers */
.light-theme .verticalStepper .MuiStepContent-root .MuiTypography-subtitle2[class*="fontWeight-bold"] {
  color: var(--black) !important;
}

/* Ensure check icons have appropriate color in light theme */
.light-theme .verticalStepper .MuiSvgIcon-root[data-testid="CheckCircleIcon"] {
  color: var(--greenButton) !important;
}

/* Fix error icons in light theme */
.light-theme .verticalStepper .MuiSvgIcon-root[data-testid="ErrorIcon"] {
  color: var(--btnRed) !important;
}